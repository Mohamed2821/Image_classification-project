<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Image Classifier</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
    background: linear-gradient(270deg, #6a11cb, #2575fc);
    background-size: 400% 400%;
    animation: bg 8s ease infinite;
    min-height: 100vh;
    color: white;
}
@keyframes bg {
    0%{background-position:0%}
    50%{background-position:100%}
    100%{background-position:0%}
}
.card {
    border-radius: 20px;
}
#loader {
    display: none;
}
</style>
</head>

<body class="d-flex align-items-center justify-content-center">
<div class="card p-4 shadow-lg text-center" style="width:400px;color:black;">
    <h3>ðŸ§  AI Image Classifier</h3>
    <input type="file" id="image" class="form-control mt-3">
    <button class="btn btn-primary mt-3" onclick="predict()">Predict</button>

    <div id="loader" class="spinner-border text-primary mt-3"></div>
    <h5 id="result" class="mt-3"></h5>
</div>

<script>
function predict() {
    const file = document.getElementById("image").files[0];
    if (!file) return alert("Upload an image");

    const formData = new FormData();
    formData.append("image", file);

    document.getElementById("loader").style.display = "inline-block";
    document.getElementById("result").innerText = "";

    fetch("/predict", { method: "POST", body: formData })
        .then(res => res.json())
        .then(data => {
            document.getElementById("loader").style.display = "none";
            if (data.error) {
                document.getElementById("result").innerText = data.error;
            } else {
                document.getElementById("result").innerText =
                    `Prediction: ${data.label} (${data.confidence})`;
            }
        });
}
</script>
</body>
</html>

